# 11. Writing Automated Tests

1972년, 다익스트라는 "프로그램 테스팅은 bug가 있을 가능성을 보이는 굉장히
효율적인 방법이나, 버그가 없을 보여주기에는 부적합하다"고 말했습니다. 그렇다고
우리가 테스트를 할 수 있는 만큼 하지 말라는 의미는 아니죠.

우리 프로그램의 정확성은 우리의 코드가 의도한 것을 정확히 하는지를 아는 것에
대한 연장성상에 있습니다. 러스트는 코드의 정확성을 높은 수준으로 지키는 방식으로
디자인되었으나, 정확성은 복잡하며 증명하기 어렵습니다. 러스트의 타입 시스템이
굉장히 많은 일을 해 주지만, 모든 일을 해 주지는 않습니다. 이에 러스트는 자동화된
소프트웨어 테스트 작성을 돕는 기능을 포함합니다.

예를 들어 2를 더하는 함수를 작성해서 i32를 받아서 해당 값에 2를 더한 값을
반환한다고 칩시다. 이걸 컴파일하면, 러스트는 타입 체커와 borrow checker를 돌려서
함수가 다른 타입의 값이나 invalid reference를 받지 않는 것을 보장합니다. 그러나
이것이 로직을 검증해주지는 못 합니다. 예를 들어 +2하는 대신 로직이 +10이나 -50을
할 수도 있는 거죠. 그래서 테스트가 필요합니다.

예를 들자면, 3을 2 더하는 함수에 넣으면 5가 나와야 한다는 assert를 작성할 수
있습니다. 우리는 코드 수정이 발생할 때마다 이 테스트를 돌려서 현재 존재하는
올바른 행동이 바뀌지 않았음을 보장할 수 있습니다.

테스팅은 복잡한 스킬입니다. 우리가 모든 디테일을 커버하지는 못하지만, 러스트의
테스팅 facilities의 메커닉을 다룰 덧입니다. Annotation과 macro를 사용해서
테스트에 적용하는 것을 배우고, 테스트를 돌릴 때의 기본 동작 및 옵션에 대해
배우고, 테스트를 unit test와 integration test로 구성하는 방법을 배웁니다.
